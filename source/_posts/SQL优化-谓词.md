---
title: SQL优化-谓词
date: 2025-03-17 16:44:03
tags:
---



**🔧 1. 什么是谓词（Predicate）？**



**谓词**就是一个**判断条件**，用来筛选数据。

	•	SQL 里的 WHERE、ON、HAVING、CHECK 等子句，都会写谓词。
	
	•	它们的作用就是告诉数据库 “**哪些行我要，哪些行不要**”。



**举例**

```
SELECT * FROM employees WHERE salary > 5000;
```

这里的 salary > 5000，就是谓词。



------



**🔧 2. 什么是连接操作（Join）？**



**连接（JOIN）** 是一种**关系操作**，用来**组合多张表的数据**。

	•	连接操作有很多类型：INNER JOIN、LEFT JOIN、RIGHT JOIN、FULL JOIN 等。
	
	•	它们会把两张表的行根据“某种条件”组合成新的行。



**举例**

```
SELECT *  
FROM employees e  
JOIN departments d ON e.dept_id = d.dept_id;
```

这段 ON e.dept_id = d.dept_id，是**连接条件**，也是一种谓词！

这个条件控制着“员工”和“部门”之间，谁能配对。



------



**🔧 3. 谓词和连接的关系？**



**✅ 谓词可以用于连接**

	•	JOIN 的 ON 子句里写的就是**谓词**！
	
	•	它决定了两个表怎样“连接”。



**✅ 谓词也可以用于过滤**

	•	WHERE 子句里写的也是谓词，它用来**过滤连接后的结果**。
	
	•	HAVING 子句写的谓词，用来过滤**分组聚合**的结果。



------



**🔧 4. 谓词 ≠ 连接操作**



连接操作是数据库执行的一种逻辑过程。

	•	比如说，HASH JOIN、NESTED LOOP JOIN 是执行的方式；
	
	•	谓词只是参与连接或过滤的一种**条件**。



**✴️ 类比一下**

| **概念**     | **比喻**               |
| ------------ | ---------------------- |
| **谓词**     | 过滤条件、筛选规则     |
| **连接操作** | 怎么搭桥、怎么组合数据 |

	•	谓词决定**谁能走桥**（哪些行匹配）
	
	•	连接操作决定**桥怎么修、怎么走**（执行方法）



------



**🔧 5. 执行计划里的体现**



**🔸 譬如：**

```
6 - access("T5"."JOBID"(+)="T1"."JOBID")  -- join 谓词
7 - filter("T1"."STATUS" = 6)             -- where 谓词
```

	•	6 是连接谓词 ➜ T1 和 T5 怎么 JOIN
	
	•	7 是过滤谓词 ➜ 已 JOIN 完，还要筛掉不符合的行



------



**✅ 结论**

| **谓词**                  | **连接操作**                                     |
| ------------------------- | ------------------------------------------------ |
| 是“条件”                  | 是“方法”                                         |
| 用于JOIN、WHERE、HAVING等 | 用于两个表之间的组合                             |
| 决定匹配哪些行            | 决定怎么执行组合（比如 Nested Loop / Hash Join） |
